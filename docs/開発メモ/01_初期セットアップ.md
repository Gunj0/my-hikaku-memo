# åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

## æ–¹é‡

- Next.js on Cloudflare Workers
  - åˆ©ç‚¹: æ§‹ç¯‰ãŒæ¥½ã€ç„¡æ–™æ ãŒå¤§ãã„
    - Vercel ã¯ç„¡æ–™æ ã§å•†ç”¨åˆ©ç”¨ä¸å¯

## Cloudflare Workers ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¾“ã£ã¦ pnpm ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

- Next.js é››å½¢ã‚’ä½œæˆã—ã¦ Cloudflare ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§å®Œäº†
- https://developers.cloudflare.com/workers/framework-guides/web-apps/nextjs/#deploy-a-new-nextjs-project-on-workers

```zsh
% pnpm create cloudflare@latest {project-name} --framework=next
.../19b87ed3d1e-fe9c                     |   +1 +
.../19b87ed3d1e-fe9c                     | Progress: resolved 1, reused 1, downloaded 0, added 1, done

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ‘‹ Welcome to create-cloudflare v2.61.0!
ğŸ§¡ Let's get started.
ğŸ“Š Cloudflare collects telemetry about your usage of Create-Cloudflare.

Learn more at: https://github.com/cloudflare/workers-sdk/blob/main/packages/create-cloudflare/telemetry.md
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•­ Create an application with Cloudflare Step 1 of 3
â”‚
â”œ In which directory do you want to create your application?
â”‚ dir ./{project-name}
â”‚
â”œ What would you like to start with?
â”‚ category Framework Starter
â”‚
â”œ Which development framework do you want to use?
â”‚ framework Next.js
â”‚
â”œâ€ŠCloning template from: https://github.com/opennextjs/opennextjs-cloudflare/tree/main/create-cloudflare/next
â”‚
â”œ Updating name in `package.json`
â”‚ updated `package.json`
â”‚
â”œ Installing dependencies
â”‚ installed via `pnpm install`
â”‚
â•° Application created

â•­ Configuring your application for Cloudflare Step 2 of 3
â”‚
â”œ Installing wrangler A command line tool for building Cloudflare Workers
â”‚ installed via `pnpm install wrangler --save-dev`
â”‚
â”œ Retrieving current workerd compatibility date
â”‚ compatibility date 2026-01-03
â”‚
â”œ Adding Wrangler files to the .gitignore file
â”‚ updated .gitignore file
â”‚
â”œ Generating types for your application
â”‚ generated to `./cloudflare-env.d.ts` via `pnpm run cf-typegen`
â”‚
â”œ Installing @types/node
â”‚ installed via pnpm
â”‚
â”œ Do you want to use git for version control?
â”‚ yes git
â”‚
â”œ Initializing git repo
â”‚ initialized git
â”‚
â”œ Committing new files
â”‚ git commit
â”‚
â•° Application configured

â•­ Deploy with Cloudflare Step 3 of 3
â”‚
â”œ Do you want to deploy your application?
â”‚ yes deploy via `pnpm run deploy`
â”‚
â”œ Logging into Cloudflare checking authentication status
â”‚ logged in
â”‚
â”œ Selecting Cloudflare account retrieving accounts
â”‚ account {account-name}'s Account
â”‚

> {project-name}@0.1.0 deploy {project-path}
> opennextjs-cloudflare build && opennextjs-cloudflare deploy


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenNext â€” Cloudflare build â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

App directory: {project-path}
Next.js version : 15.5.9
@opennextjs/cloudflare version: 1.14.7
@opennextjs/aws version: 3.9.7

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenNext â€” Building Next.js app â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


> {project-name}@0.1.0 build {project-path}
> next build

Using vars defined in .dev.vars
   â–² Next.js 15.5.9

   Creating an optimized production build ...
Using vars defined in .dev.vars
Using vars defined in .dev.vars
Using vars defined in .dev.vars
 âœ“ Compiled successfully in 2.6s
 âœ“ Linting and checking validity of types
 âœ“ Collecting page data
 âœ“ Generating static pages (4/4)
 âœ“ Collecting build traces
 âœ“ Finalizing page optimization

Route (app)                                 Size  First Load JS
â”Œ â—‹ /                                    5.46 kB         107 kB
â”” â—‹ /_not-found                            992 B         103 kB
+ First Load JS shared by all             102 kB
  â”œ chunks/149-93a3163657730b7b.js       45.6 kB
  â”œ chunks/70e20838-8e10520aa36b998b.js  54.2 kB
  â”” other shared chunks (total)           1.9 kB


â—‹  (Static)  prerendered as static content


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenNext â€” Generating bundle â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bundling middleware function...
Bundling static assets...
Bundling cache assets...
Building server function: default...
Applying code patches: 1.641s
# copyPackageTemplateFiles
âš™ï¸ Bundling the OpenNext server...

Worker saved in `.open-next/worker.js` ğŸš€

OpenNext build complete.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenNext â€” Cloudflare deploy â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Using vars defined in .dev.vars
Incremental cache does not need populating
Tag cache does not need populating

 â›…ï¸ wrangler 4.54.0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸŒ€ Building list of assets...
âœ¨ Read 38 files from the assets directory {project-path}/.open-next/assets
ğŸŒ€ Starting asset upload...
ğŸŒ€ Found 28 new or modified static assets to upload. Proceeding with upload...
+ /BUILD_ID
+ /_next/static/chunks/pages/_error-85edcc98f940866a.js
+ /file.svg
+ /_next/static/chunks/app/layout-527c48c106942f8b.js
+ /favicon.svg
+ /_next/static/media/9610d9e46709d722-s.woff2
+ /_next/static/css/f5bd69e6be144534.css
+ /_next/static/media/4cf2300e9c8272f7-s.p.woff2
+ /_next/static/chunks/main-17c4d845fa987a12.js
+ /_next/static/chunks/framework-c5ef327158a2aac2.js
+ /_next/static/pMZPP-OzBThN9fcYzWr7W/_ssgManifest.js
+ /_next/static/chunks/pages/_app-9ba5d3789554d873.js
+ /_next/static/pMZPP-OzBThN9fcYzWr7W/_buildManifest.js
+ /globe.svg
+ /_next/static/chunks/app/_not-found/page-511cd027a1d1227a.js
+ /_next/static/media/747892c23ea88013-s.woff2
+ /_next/static/media/8d697b304b401681-s.woff2
+ /_next/static/media/93f479601ee12b01-s.p.woff2
+ /_next/static/chunks/149-93a3163657730b7b.js
+ /_next/static/chunks/app/page-595766cb2054ad81.js
+ /window.svg
+ /_next/static/chunks/main-app-28f6bcb32767a1fd.js
+ /next.svg
+ /_next/static/chunks/webpack-54ca419e34155e21.js
+ /_next/static/chunks/876-724b6bad40f8badb.js
+ /_next/static/media/ba015fad6dcf6784-s.woff2
+ /_next/static/chunks/polyfills-42372ed130431b0a.js
+ /_next/static/chunks/70e20838-8e10520aa36b998b.js
Uploaded 9 of 28 assets
Uploaded 19 of 28 assets
Uploaded 28 of 28 assets
âœ¨ Success! Uploaded 28 files (2.20 sec)

Total Upload: 4409.30 KiB / gzip: 894.47 KiB
Worker Startup Time: 30 ms
Your Worker has access to the following bindings:
Binding                                         Resource
env.WORKER_SELF_REFERENCE ({project-name})      Worker
env.IMAGES                                      Images
env.ASSETS                                      Assets

Uploaded {project-name} (9.99 sec)
Deployed {project-name} triggers (1.43 sec)
  https://{project-url}
Current Version ID: 9cc04b01-f6bd-4f25-9acc-88c168ad9315
(node:65415) [DEP0190] DeprecationWarning: Passing args to a child process with shell option true can lead to security vulnerabilities, as the arguments are not escaped, only concatenated.
(Use `node --trace-deprecation ...` to show where the warning was created)
â”œ Waiting for DNS to propagate. This might take a few minutes.
â”‚ DNS propagation complete.
â”‚
â”œ Waiting for deployment to become available
â”‚ deployment is ready at: https://{project-url}
â”‚
â”œâ€ŠOpening browser
â”‚
â•° Done

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ‰  SUCCESS  Application deployed successfully!

ğŸ” View Project
Visit: https://{project-url}
Dash: https://dash.cloudflare.com/?to=/:account/workers/services/view/{project-name}

ğŸ’» Continue Developing
Change directories: cd {project-name}
Deploy again: pnpm run deploy

ğŸ“– Explore Documentation
https://developers.cloudflare.com/workers

ğŸ› Report an Issue
https://github.com/cloudflare/workers-sdk/issues/new/choose

ğŸ’¬ Join our Community
https://discord.cloudflare.com
```

## ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•ç¢ºèª

```zsh
% pnpm run preview

> {project-name}@0.1.0 preview {project-path}
> opennextjs-cloudflare build && opennextjs-cloudflare preview


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenNext â€” Cloudflare build â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

App directory: {project-path}
Next.js version : 15.5.9
@opennextjs/cloudflare version: 1.14.7
@opennextjs/aws version: 3.9.7

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenNext â€” Building Next.js app â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


> {project-name}@0.1.0 build {project-path}
> next build

Using vars defined in .dev.vars
   â–² Next.js 15.5.9

   Creating an optimized production build ...
Using vars defined in .dev.vars
Using vars defined in .dev.vars
Using vars defined in .dev.vars
 âœ“ Compiled successfully in 827ms
 âœ“ Linting and checking validity of types
 âœ“ Collecting page data
 âœ“ Generating static pages (4/4)
 âœ“ Collecting build traces
 âœ“ Finalizing page optimization

 Route (app)                                 Size  First Load JS
â”Œ â—‹ /                                    5.46 kB         107 kB
â”” â—‹ /_not-found                            992 B         103 kB
+ First Load JS shared by all             102 kB
  â”œ chunks/149-93a3163657730b7b.js       45.6 kB
  â”œ chunks/70e20838-8e10520aa36b998b.js  54.2 kB
  â”” other shared chunks (total)           1.9 kB


â—‹  (Static)  prerendered as static content


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenNext â€” Generating bundle â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bundling middleware function...
Bundling static assets...
Bundling cache assets...
Building server function: default...
Applying code patches: 1.794s
# copyPackageTemplateFiles
âš™ï¸ Bundling the OpenNext server...

Worker saved in `.open-next/worker.js` ğŸš€

OpenNext build complete.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenNext â€” Cloudflare preview â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Using vars defined in .dev.vars
Incremental cache does not need populating
Tag cache does not need populating

 â›…ï¸ wrangler 4.54.0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Using vars defined in .dev.vars
Your Worker has access to the following bindings:
Binding                                         Resource                  Mode
env.WORKER_SELF_REFERENCE ({project-path})      Worker                    local [connected]
env.IMAGES                                      Images                    local
env.ASSETS                                      Assets                    local
env.NEXTJS_ENV ("(hidden)")                     Environment Variable      local


Service bindings, Durable Object bindings, and Tail consumers connect to other Wrangler or Vite dev processes running locally, with their connection status indicated by [connected] or [not connected]. For more details, refer to https://developers.cloudflare.com/workers/runtime-apis/bindings/service-bindings/#local-development

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  [b] open a browser [d] open devtools [c] clear console [x] to exit  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â” Starting local server...
[wrangler:info] âœ¨ Parsed 1 valid header rule.
[wrangler:info] Ready on http://localhost:8787
```
